
# 2022/06/25 v1.11.0
- Add 属性 "clone" を追加
    - `clone:3` と書いてソートすると、そのタスクが3個複製される
    - これにより「一日何個か複製しておいてそれを選んで開始する」タイプのタスクを扱いやすくなる
        - 例: 休憩、散歩、～～本を読む

以下は内部向け機能だが、利用者も使おうと思えば使える。

- Add タスクカウント数ランキング表示機能を追加
    - `python helper.py -i (YourTritaFile).trita --task-count-ranking`

# 2020/06/10 v1.10.0
- Add 操作 "End Task(Posteriori End)" を追加
    - 報告的終了(Posteriori End)とは「さっきまで XXXX をやってました」を記録すること
    - 現在行のタスクを報告的終了すると、以下の挙動になる
        - そのタスクの開始時間には「直近終了したタスクの終了時間」が入る
        - そのタスクの終了時間には「現在日時」が入る
    - つまり一発で「さっきまで XXXX をやってました」を記録できる
- Add "Report Today" に「終了したタスク」の個数表示を追加
- Modify "Report Today" の表示形式を微修正
- Modify ドキュメント specifications.md を全体的に読みやすく修正
- Modify 内部構造をテストコードでテストできるよう修正
    - 利用者見えには変化はありません

# 2020/06/07 v1.9.0
- Add 「Find In Today」という挙動を追加
    - 「キーワード（範囲選択された文字列）」を含む「今日のタスク」すべてを操作対象にする
    - 対象操作は `<FindInToday>` 表記のある項目
        - walk, smart walk, change to today など
    - これを使うと「`home` という文字列を持つ今日のタスク全部」を「スキップする(smart walkする)」、なんてことができる
- Modify 同梱ドキュメント specification.md に Edit Task の説明が漏れていたので追加

# 2019/12/17 v1.8.1
- Modify 「skip 属性を持つタスク A」を A の実行日以前に終了した後でも skip されてしまう不具合を修正
    - 従来: たとえば `2019/12/17 Tue …… skip:月` というタスク A を 2019/12/16 時点で終了した場合、タスク A は `2019/12/16 Mon` のログとして記録されるべきだが、これが skip されて `2019/12/17 Tue` のログになってしまっていた
    - 今回: `2019/12/16 Mon` として記録されるように修正した
- Modify 強調定義ファイル trita.hilight を修正、区切りのハイライトとアウトライン化が正しく反映されるように
    - 従来: ` --` など空白で始まるタスク名でないと認識されなかった
    - 今回: `a --` など空白以外で始まる場合も認識させるようにした
- Modify ドキュメントの微修正
    - FAQ にインストール系のハマりどころを追記
    - インストール手順 (5) が「(無くても良いがあると便利)」とあったが、事実上必須なので、この表記を削除

# 2019/09/03 v1.8.0
- Add 操作 "Open Commandline" を追加
    - 属性 `o:(CommandLine)` と書いたタスク上で実行すると、`(CommandLine)` を実行します
    - 注1: 内部的には `start "" "(CommandLine)"` を実行しています
    - 注2: (CommandLine) としてスペースを含むパスは使えません(helper.py 側がまだ対応していない)
- Add 操作 "Edit Task" を追加
    - 従来: タスクの記述を素早く選択できる方法が無かった
    - 今回: \ キーで Edit Task を実行するだけで記述部分を選択できる
- Modify 操作 "End Task" の、Start していない時の挙動を修正
    - 従来: 構わず End していた
    - 今回: End しない
    - つまり Start していないタスクに対して End Task をしても何も行わないようにした
    - なぜ: End Task したい行の前後行に対して End Task を誤発動した場合に、いちいち End されたのを元に戻すのが面倒だから
- Modify メニュー表示後に IME をオフにする
    - 従来: IME は特に制御していなかった
    - 今回: メニュー表示後(キャンセルせず何らかの操作を行う時)に IME をオフにするようにした
    - なぜ: メニュー表示後は Walk day などで直接入力することが多く、しばしば半角全角キーで IME オフにする操作を行っていて煩わしかったから
    - つまり「メニュー表示後は IME はオフになる」という状態の統一を導入した

# 2019/03/25 v1.7.1
- Modify タスク終了時に開始時刻が空の場合に、開始時刻も同時に埋めるよう修正
    - 開始時刻が空のタスクに対して終了を行った時の挙動が変化します
    - 従来: 終了時刻のみが埋まり、「開始していないが終了したタスク」になる
    - 今回: 開始時刻も埋まるので「開始と同時に終了したタスク」になる
    - つまり "Close Task" の挙動になります
- Modify 操作 "Add Task" の挙動を Smart Add に変更
    - 従来: 今日が 2019/03/25 だとしたらとにかく 2019/03/25 のタスクを追加していた
    - 今回: 追加時の現在行にあるタスクの日付を用いるようにした
    - つまり Smart Add とは「バカ正直に実行日が今日のタスクを追加する」のではなく「現在行にあるタスクの実行日を用いてタスクを追加する」という、少しだけスマート(賢い) Add Task を指します
- Modify 同梱ドキュメント specification.md を全体的に修正
    - 手抜きだった部分(特に無効なタスクの項など)を拡充しました

# 2019/03/07 v1.7.0+
- Modify 同梱ドキュメントを全体的に修正
    - 誤字脱字や手抜き部分を修正しました
    - プログラム自体は v1.7.0 と変更ありません

# 2019/02/17 v1.7.0
- Modify ダイアログレポートに「選択範囲行のみのレポートを出す」機能を追加
    - Before: "Report Today"
    - After : "Report Today or Selected-Range"

## Selected-Range(指定範囲のレポート機能) について
今回、Report Today に機能追加を行い、文字選択時には「選択範囲行のみのレポートを出す」ようにしました。

従来:

- Report Today を呼び出す → 今日のレポートが出る

今回:

- Report Today or Selected-Range を呼び出す
    - → もし文字選択中なら、選択範囲行のみのレポートが出る
    - → もし文字選択中でないなら、今日のレポートが出る

制約事項:

- 「選択範囲行のみのレポート」は機械的にタスク数と見積もり時間を出すだけである
    - もっと言えば「終了済タスクだから見積もり時間には含めない」といった判断はしない
    - ただし Hold タスクは(区切り用途で見積もりはしないはずだから)集計対象外とみなす

# 2018/12/10 v1.6.1+
- Add キー割り当てから Start Task, End Task, Sort を呼び出せるようにする
    - プログラム自体は v1.6.1 と変更ありません

## キー割り当てから各操作を一発で呼び出す
今回、tritask.mac 内の操作をキー割り当てから一発で呼び出す機能を追加しました。

設定手順:

- (1) tritask_cmd_start.mac や tritask_cmd_end.mac をマクロ登録する
- (2) 1 に対してキー割り当てを割り当てる
    - 例: PageUp に tritask_cmd_start を、PageDown に tritask_cmd_end を

利用方法:

- キー割り当てにて割り当てたショートカットキーを押す

制約事項:

- tritask_cmd_XXXX.mac は tritask.mac と同じフォルダに置く必要がある

# 2018/11/17 v1.6.1
- Modify ソート処理の性能改善
    - 1 万行など行数多い時の処理終了時間をおおよそ数十 % 削減

# 2018/11/15 v1.6.0
- Modify 操作 "Walk +1 day" の挙動を Smart Walk に変更
    - 従来: rep:N であっても +1 が設定されていた
    - 今回: rep:N の場合は +N が設定されるように
    - つまり Smart Walk とは「バカ正直に +1 する」のではなく「rep:N なら +N する」という、少しだけスマート(賢い) Walk を指します

# 2018/11/12 v1.5.0
- Remove タイムバインド機能を削除
 - `timebind:HHMM-HHMM` ← こんな属性です

## タイムバインドの削除について
タイムバインドはリマインダーを実現するための機能でしたが、処理としては「指定タスクの位置を上の行に持ってくる」だけであり、リマインダーとしての効力は薄いと言わざるを得ませんでした。ソートのタイミングで気付くことはできますが、ソートしなければ気付けない程度の代物です。優れたリマインダーとは到底言えません。

タイムバインドは「リマインダーがあれば便利そう」という安直な思いから開発しましたが、リマインダー機能を一から作り込むのは大変だとわかり、また Tritask の本質ではないことと、既に別のツールが存在しておりそれらに頼れば良いことなどから、今回タイムバインドの削除を決意しました。

# 2018/11/01 v1.4.0
- Add 実行時間の見積もりを指定する属性
    - `m:15` で見積 = 15 分の意
- Add 今日のタスク数と見積もり時間を表示する操作を追加
    - "Report Today"
- Add バージョン情報表示機能を追加
    - `python helper.py -v -i dummy` を実行すると見れます

# 2018/10/11 v1.3.0
- Add 現在行のみを補正する操作を追加
    - "Simple Completion"
    - 補正とは「曜日」を今の実行日から反映し直す処理です
    - Walk day した後、曜日欄までは反映されないため、(正確な曜日を知りたい時は)この操作で反映させます

# 2018/09/30 v1.2.1
- Modify スキップの文法を `skip:月火水木金土日休平` 式に変更
- Modify 上記文法がハイライトされるよう trita.hilight を修正

# 2018/05/11 v1.2.0
- Add タスク集計機能( `python --report -i data.trita` を実行)

# 2018/04/26 v1.1.0
- Add 実行日を翌日に進める操作を追加
    - "Walk +1 day"
- Add リファレンス機能を追加
    - "Open Reference"
    - 各タスクにファイル一つ分の領域を付与する機能です
    - 実行すると ref:190307_195637 のような属性が付きます
    - 実体は ref/190307_195637.md のようなファイルです
- Add 開始と終了を同時に行う操作を追加
    - "Close Task"
- Modify メニュー項目を読みやすいよう並べ替える
- Add 更新履歴ファイル CHANGELOG.md を追加
